{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport axios from 'axios';\nconst BASE_URL = 'http://localhost:3000';\nconst axiosInstance = axios.create({\n  baseURL: `${BASE_URL}/api/v1`,\n  timeout: 3000\n});\n/*const setAuthHeader = (req) => {\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return { headers: {'authorization': `Bearer ${token}`}};\n  }\n\n  return undefined;\n}*/\n\nconst rejectPromise = resError => {\n  let error = {};\n\n  if (resError && resError.response && resError.response.data) {\n    error = resError.response.data;\n  } else {\n    error = resError;\n  }\n\n  return _Promise.reject(error);\n}; // ------------ USER ACTIONS --------------\n\n\nexport const getUsers = async () => {\n  return await axiosInstance.get('/users').then(response => response.data);\n};\nexport const getUserById = async id => {\n  return await axiosInstance.get(`/users/${id}`).then(response => response.data);\n};\nexport const createUser = async userData => {\n  //return await axiosInstance.post('/users', userData, setAuthHeader())\n  return await axiosInstance.post('/users', userData).then(response => response.data).catch(error => rejectPromise(error));\n};\nexport const updateUser = async userData => {\n  //return await axiosInstance.patch(`/portfolios/${portfolioData._id}`, portfolioData, setAuthHeader())\n  return await axiosInstance.patch(`/users/${userData._id}`, userData).then(response => response.data).catch(error => rejectPromise(error));\n};\nexport const deleteUser = userId => {\n  //return axiosInstance.delete(`/users/${userId}`, setAuthHeader()).then(response => response.data);\n  return axiosInstance.delete(`/users/${userId}`).then(response => response.data);\n}; // ------------ MOVIE AND CATEGORY ACTIONS --------------\n\nconst MOVIE_DATA = [];\nconst CATEGORY_DATA = [{\n  id: 'c-0',\n  name: 'all'\n}, {\n  id: 'c-1',\n  name: 'drama'\n}, {\n  id: 'c-2',\n  name: 'action'\n}, {\n  id: 'c-3',\n  name: 'adventure'\n}, {\n  id: 'c-4',\n  name: 'historical'\n}]; // 1. getCategories function\n// 2. get categories in index page\n// 3. provide categories to sidemenu\n// 4. in sidemenu iterate categories and display them\n\nexport const getCategories = () => {\n  return new _Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(CATEGORY_DATA); // reject('Cannot fetch data!')\n    }, 50);\n  });\n};\nexport const getMovies = () => {\n  return axios.get(`${BASE_URL}/api/v1/movies`).then(res => res.data);\n};\nexport const createMovie = movie => {\n  movie.id = Math.random().toString(36).substr(2, 5);\n  return axios.post(`${BASE_URL}/api/v1/movies`, movie).then(res => res.data);\n};\nexport const getMovieById = id => {\n  return axios.get(`${BASE_URL}/api/v1/movies/${id}`).then(res => res.data);\n};\nexport const updateMovie = movie => {\n  return axios.patch(`${BASE_URL}/api/v1/movies/${movie.id}`, movie).then(res => res.data);\n};\nexport const deleteMovie = id => {\n  return axios.delete(`${BASE_URL}/api/v1/movies/${id}`).then(res => res.data);\n};\nexport const getPosts = () => {\n  return axios.get(`${BASE_URL}/api/v1/posts`).then(res => res.data);\n};","map":{"version":3,"sources":["C:\\Users\\Tiago\\Desktop\\movie-app-nextjs\\actions\\index.js"],"names":["axios","BASE_URL","axiosInstance","create","baseURL","timeout","rejectPromise","resError","error","response","data","reject","getUsers","get","then","getUserById","id","createUser","userData","post","catch","updateUser","patch","_id","deleteUser","userId","delete","MOVIE_DATA","CATEGORY_DATA","name","getCategories","resolve","setTimeout","getMovies","res","createMovie","movie","Math","random","toString","substr","getMovieById","updateMovie","deleteMovie","getPosts"],"mappings":"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","sourcesContent":["\nimport axios from 'axios'\n\nconst BASE_URL = 'http://localhost:3000'\n\nconst axiosInstance = axios.create({\n  baseURL: `${BASE_URL}/api/v1`,\n  timeout: 3000\n});\n\n/*const setAuthHeader = (req) => {\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return { headers: {'authorization': `Bearer ${token}`}};\n  }\n\n  return undefined;\n}*/\n\nconst rejectPromise = (resError) => {\n  let error = {};\n\n  if (resError && resError.response && resError.response.data) {\n    error = resError.response.data;\n  } else {\n    error = resError;\n  }\n\n  return Promise.reject(error);\n}\n\n\n// ------------ USER ACTIONS --------------\n\nexport const getUsers = async () => {\n  return await axiosInstance.get('/users').then(response => response.data);\n}\n\n\nexport const getUserById = async (id) => {\n  return await axiosInstance.get(`/users/${id}`).then(response => response.data);\n}\n\nexport const createUser = async (userData) => {\n  //return await axiosInstance.post('/users', userData, setAuthHeader())\n  return await axiosInstance.post('/users', userData)\n    .then(response => response.data)\n    .catch(error => rejectPromise(error))\n}\n\nexport const updateUser = async (userData) => {\n  //return await axiosInstance.patch(`/portfolios/${portfolioData._id}`, portfolioData, setAuthHeader())\n  return await axiosInstance.patch(`/users/${userData._id}`, userData)\n    .then(response => response.data)\n    .catch(error => rejectPromise(error))\n}\n\nexport const deleteUser = (userId) => {\n  //return axiosInstance.delete(`/users/${userId}`, setAuthHeader()).then(response => response.data);\n  return axiosInstance.delete(`/users/${userId}`).then(response => response.data);\n}\n\n// ------------ MOVIE AND CATEGORY ACTIONS --------------\n\nconst MOVIE_DATA = []\n\nconst CATEGORY_DATA = [\n  {id: 'c-0', name: 'all'},\n  {id: 'c-1', name: 'drama'},\n  {id: 'c-2', name: 'action'},\n  {id: 'c-3', name: 'adventure'},\n  {id: 'c-4', name: 'historical'},\n]\n\n// 1. getCategories function\n// 2. get categories in index page\n// 3. provide categories to sidemenu\n// 4. in sidemenu iterate categories and display them\n\nexport const getCategories = () => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(CATEGORY_DATA)\n      // reject('Cannot fetch data!')\n    }, 50)\n  })\n}\n\nexport const getMovies = () => {\n  return axios.get(`${BASE_URL}/api/v1/movies`).then(res => res.data)\n}\n\nexport const createMovie = (movie) => {\n  movie.id = Math.random().toString(36).substr(2, 5)\n  return axios.post(`${BASE_URL}/api/v1/movies`, movie).then(res => res.data)\n}\n\nexport const getMovieById = (id) => {\n  return axios.get(`${BASE_URL}/api/v1/movies/${id}`).then(res => res.data)\n}\n\nexport const updateMovie = (movie) => {\n  return axios.patch(`${BASE_URL}/api/v1/movies/${movie.id}`, movie)\n    .then(res => res.data)\n}\n\nexport const deleteMovie = (id) => {\n  return axios.delete(`${BASE_URL}/api/v1/movies/${id}`).then(res => res.data)\n}\n\n\n\nexport const getPosts = () => {\n  return axios.get(`${BASE_URL}/api/v1/posts`).then(res => res.data)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}