{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport axios from 'axios';\nvar BASE_URL = 'http://localhost:3000';\nvar axiosInstance = axios.create({\n  baseURL: \"\".concat(BASE_URL, \"/api/v1\"),\n  timeout: 3000\n});\n/*const setAuthHeader = (req) => {\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return { headers: {'authorization': `Bearer ${token}`}};\n  }\n\n  return undefined;\n}*/\n\nvar rejectPromise = function rejectPromise(resError) {\n  var error = {};\n\n  if (resError && resError.response && resError.response.data) {\n    error = resError.response.data;\n  } else {\n    error = resError;\n  }\n\n  return _Promise.reject(error);\n}; // ------------ USER ACTIONS --------------\n\n\nexport var getUsers =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axiosInstance.get('/users').then(function (response) {\n              return response.data;\n            });\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getUsers() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var getUserById =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(id) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return axiosInstance.get(\"/users/\".concat(id)).then(function (response) {\n              return response.data;\n            });\n\n          case 2:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getUserById(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var createUser =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(userData) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axiosInstance.post('/users', userData).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (error) {\n              return rejectPromise(error);\n            });\n\n          case 2:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function createUser(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var updateUser =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(userData) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return axiosInstance.patch(\"/users/\".concat(userData._id), userData).then(function (response) {\n              return response.data;\n            })[\"catch\"](function (error) {\n              return rejectPromise(error);\n            });\n\n          case 2:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function updateUser(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var deleteUser = function deleteUser(userId) {\n  //return axiosInstance.delete(`/users/${userId}`, setAuthHeader()).then(response => response.data);\n  return axiosInstance[\"delete\"](\"/users/\".concat(userId)).then(function (response) {\n    return response.data;\n  });\n}; // ------------ MOVIE AND CATEGORY ACTIONS --------------\n\nvar MOVIE_DATA = [];\nvar CATEGORY_DATA = [{\n  id: 'c-0',\n  name: 'all'\n}, {\n  id: 'c-1',\n  name: 'drama'\n}, {\n  id: 'c-2',\n  name: 'action'\n}, {\n  id: 'c-3',\n  name: 'adventure'\n}, {\n  id: 'c-4',\n  name: 'historical'\n}]; // 1. getCategories function\n// 2. get categories in index page\n// 3. provide categories to sidemenu\n// 4. in sidemenu iterate categories and display them\n\nexport var getCategories = function getCategories() {\n  return new _Promise(function (resolve, reject) {\n    setTimeout(function () {\n      resolve(CATEGORY_DATA); // reject('Cannot fetch data!')\n    }, 50);\n  });\n};\nexport var getMovies = function getMovies() {\n  return axios.get(\"\".concat(BASE_URL, \"/api/v1/movies\")).then(function (res) {\n    return res.data;\n  });\n};\nexport var createMovie = function createMovie(movie) {\n  movie.id = Math.random().toString(36).substr(2, 5);\n  return axios.post(\"\".concat(BASE_URL, \"/api/v1/movies\"), movie).then(function (res) {\n    return res.data;\n  });\n};\nexport var getMovieById = function getMovieById(id) {\n  return axios.get(\"\".concat(BASE_URL, \"/api/v1/movies/\").concat(id)).then(function (res) {\n    return res.data;\n  });\n};\nexport var updateMovie = function updateMovie(movie) {\n  return axios.patch(\"\".concat(BASE_URL, \"/api/v1/movies/\").concat(movie.id), movie).then(function (res) {\n    return res.data;\n  });\n};\nexport var deleteMovie = function deleteMovie(id) {\n  return axios[\"delete\"](\"\".concat(BASE_URL, \"/api/v1/movies/\").concat(id)).then(function (res) {\n    return res.data;\n  });\n};\nexport var getPosts = function getPosts() {\n  return axios.get(\"\".concat(BASE_URL, \"/api/v1/posts\")).then(function (res) {\n    return res.data;\n  });\n};","map":{"version":3,"sources":["C:\\Users\\Tiago\\Desktop\\movie-app-nextjs\\actions\\index.js"],"names":["axios","BASE_URL","axiosInstance","create","baseURL","timeout","rejectPromise","resError","error","response","data","reject","getUsers","get","then","getUserById","id","createUser","userData","post","updateUser","patch","_id","deleteUser","userId","MOVIE_DATA","CATEGORY_DATA","name","getCategories","resolve","setTimeout","getMovies","res","createMovie","movie","Math","random","toString","substr","getMovieById","updateMovie","deleteMovie","getPosts"],"mappings":"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","sourcesContent":["\nimport axios from 'axios'\n\nconst BASE_URL = 'http://localhost:3000'\n\nconst axiosInstance = axios.create({\n  baseURL: `${BASE_URL}/api/v1`,\n  timeout: 3000\n});\n\n/*const setAuthHeader = (req) => {\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return { headers: {'authorization': `Bearer ${token}`}};\n  }\n\n  return undefined;\n}*/\n\nconst rejectPromise = (resError) => {\n  let error = {};\n\n  if (resError && resError.response && resError.response.data) {\n    error = resError.response.data;\n  } else {\n    error = resError;\n  }\n\n  return Promise.reject(error);\n}\n\n\n// ------------ USER ACTIONS --------------\n\nexport const getUsers = async () => {\n  return await axiosInstance.get('/users').then(response => response.data);\n}\n\n\nexport const getUserById = async (id) => {\n  return await axiosInstance.get(`/users/${id}`).then(response => response.data);\n}\n\nexport const createUser = async (userData) => {\n  //return await axiosInstance.post('/users', userData, setAuthHeader())\n  return await axiosInstance.post('/users', userData)\n    .then(response => response.data)\n    .catch(error => rejectPromise(error))\n}\n\nexport const updateUser = async (userData) => {\n  //return await axiosInstance.patch(`/portfolios/${portfolioData._id}`, portfolioData, setAuthHeader())\n  return await axiosInstance.patch(`/users/${userData._id}`, userData)\n    .then(response => response.data)\n    .catch(error => rejectPromise(error))\n}\n\nexport const deleteUser = (userId) => {\n  //return axiosInstance.delete(`/users/${userId}`, setAuthHeader()).then(response => response.data);\n  return axiosInstance.delete(`/users/${userId}`).then(response => response.data);\n}\n\n// ------------ MOVIE AND CATEGORY ACTIONS --------------\n\nconst MOVIE_DATA = []\n\nconst CATEGORY_DATA = [\n  {id: 'c-0', name: 'all'},\n  {id: 'c-1', name: 'drama'},\n  {id: 'c-2', name: 'action'},\n  {id: 'c-3', name: 'adventure'},\n  {id: 'c-4', name: 'historical'},\n]\n\n// 1. getCategories function\n// 2. get categories in index page\n// 3. provide categories to sidemenu\n// 4. in sidemenu iterate categories and display them\n\nexport const getCategories = () => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(CATEGORY_DATA)\n      // reject('Cannot fetch data!')\n    }, 50)\n  })\n}\n\nexport const getMovies = () => {\n  return axios.get(`${BASE_URL}/api/v1/movies`).then(res => res.data)\n}\n\nexport const createMovie = (movie) => {\n  movie.id = Math.random().toString(36).substr(2, 5)\n  return axios.post(`${BASE_URL}/api/v1/movies`, movie).then(res => res.data)\n}\n\nexport const getMovieById = (id) => {\n  return axios.get(`${BASE_URL}/api/v1/movies/${id}`).then(res => res.data)\n}\n\nexport const updateMovie = (movie) => {\n  return axios.patch(`${BASE_URL}/api/v1/movies/${movie.id}`, movie)\n    .then(res => res.data)\n}\n\nexport const deleteMovie = (id) => {\n  return axios.delete(`${BASE_URL}/api/v1/movies/${id}`).then(res => res.data)\n}\n\n\n\nexport const getPosts = () => {\n  return axios.get(`${BASE_URL}/api/v1/posts`).then(res => res.data)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}