{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport SideMenu from '../components/sideMenu';\nimport Carousel from '../components/carousel';\nimport MovieList from '../components/movieList';\nimport { getMovies, getCategories } from '../actions';\n\nvar Home = function Home(props) {\n  var images = props.images,\n      categories = props.categories,\n      movies = props.movies;\n\n  var _useState = useState('all'),\n      filter = _useState[0],\n      setFilter = _useState[1];\n\n  var changeCategory = function changeCategory(category) {\n    setFilter(category);\n  };\n\n  var filterMovies = function filterMovies(movies) {\n    if (filter === 'all') {\n      return movies;\n    }\n\n    return movies.filter(function (m) {\n      return m.genre && m.genre.includes(filter);\n    });\n  };\n\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"home-page\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-3\",\n    hidden: true\n  }, __jsx(SideMenu, {\n    changeCategory: changeCategory,\n    activeCategory: filter,\n    categories: categories,\n    appName: \"Categories\"\n  })), __jsx(\"div\", {\n    className: \"col-lg-12\"\n  }, __jsx(Carousel, {\n    images: images\n  }), __jsx(\"h1\", {\n    hidden: true\n  }, \"Displaying \", filter, \" movies\"), __jsx(\"div\", {\n    className: \"row\",\n    hidden: true\n  }, __jsx(MovieList, {\n    movies: filterMovies(movies) || []\n  })))))));\n};\n\nHome.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee() {\n  var movies, categories, images;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return getMovies();\n\n        case 2:\n          movies = _context.sent;\n          _context.next = 5;\n          return getCategories();\n\n        case 5:\n          categories = _context.sent;\n          images = movies.map(function (movie) {\n            return {\n              id: \"image-\".concat(movie.id),\n              url: movie.cover,\n              name: movie.name\n            };\n          });\n          return _context.abrupt(\"return\", {\n            movies: movies,\n            images: images,\n            categories: categories\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})); // class Home extends React.Component {\n//   static async getInitialProps() {\n//     const movies = await getMovies()\n//     return {\n//       movies\n//     }\n//   }\n//   // constructor(props) {\n//   //   super(props)\n//   //   this.state = {\n//   //     movies: [],\n//   //     errorMessage: ''\n//   //   }\n//   // }\n//   // state = {\n//   //   movies: []\n//   // }\n//   // Called only once when componenent is mounted!\n//   // async componentDidMount() {\n//   //   const movies = await getMovies()\n//   //   this.setState({movies})\n//   // }\n//   // Is called only on Client (Browser...)\n//   // componentDidMount() {\n//   //   getMovies()\n//   //     .then((movies) => {\n//   //       this.setState({movies})\n//   //     })\n//   //     .catch((error) => {\n//   //       this.setState({errorMessage: error})\n//   //     })\n//   // }\n//   render() {\n//     const { movies } = this.props\n//     return (\n//       <div>\n//         <Head>\n//           <title>Home</title>\n//           <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\" />\n//           <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossOrigin=\"anonymous\"></script>\n//         </Head>\n//         <Navbar />\n//         <div className=\"home-page\">\n//           <div className=\"container\">\n//             <div className=\"row\">\n//               <div className=\"col-lg-3\">\n//                 <SideMenu\n//                   appName={\"Movie DB\"}\n//                 />\n//               </div>\n//               <div className=\"col-lg-9\">\n//                 <Carousel />\n//                 <div className=\"row\">\n//                   <MovieList movies={movies} />\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//         <Footer />\n//         <style jsx>{`\n//           .home-page {\n//             padding-top: 80px;\n//           }\n//         `}\n//         </style>\n//       </div>\n//     )\n//   }\n// }\n\nexport default Home;","map":{"version":3,"sources":["C:\\Users\\Tiago\\Desktop\\movie-app-nextjs\\pages\\index.js"],"names":["React","useState","useEffect","SideMenu","Carousel","MovieList","getMovies","getCategories","Home","props","images","categories","movies","filter","setFilter","changeCategory","category","filterMovies","m","genre","includes","getInitialProps","map","movie","id","url","cover","name"],"mappings":"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","sourcesContent":["\n\nimport React, { useState, useEffect } from 'react'\nimport SideMenu from '../components/sideMenu'\nimport Carousel from '../components/carousel'\nimport MovieList from '../components/movieList'\n\nimport { getMovies, getCategories } from '../actions'\n\nconst Home = (props) => {\n  const { images, categories, movies } = props\n  const [ filter, setFilter ] = useState('all')\n\n  const changeCategory = category => {\n    setFilter(category)\n  }\n\n  const filterMovies = movies => {\n    if (filter === 'all') {\n      return movies\n    }\n\n    return movies.filter((m) => {\n      return m.genre && m.genre.includes(filter)\n    })\n  }\n\n  return (\n    <div>\n      <div className=\"home-page\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-3\" hidden>\n              <SideMenu\n                changeCategory={changeCategory}\n                activeCategory={filter}\n                categories={categories}\n                appName={\"Categories\"}\n              />\n            </div>\n            <div className=\"col-lg-12\">\n              <Carousel images={images} />\n              <h1 hidden>Displaying {filter} movies</h1>\n              <div className=\"row\" hidden>\n                <MovieList movies={filterMovies(movies) || []} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nHome.getInitialProps = async () => {\n  const movies = await getMovies()\n  const categories = await getCategories()\n  const images = movies.map(movie => ({\n      id: `image-${movie.id}`,\n      url: movie.cover,\n      name: movie.name }))\n\n  return {\n    movies,\n    images,\n    categories\n  }\n}\n\n// class Home extends React.Component {\n\n//   static async getInitialProps() {\n//     const movies = await getMovies()\n\n//     return {\n//       movies\n//     }\n//   }\n\n//   // constructor(props) {\n//   //   super(props)\n//   //   this.state = {\n//   //     movies: [],\n//   //     errorMessage: ''\n//   //   }\n//   // }\n\n//   // state = {\n//   //   movies: []\n//   // }\n\n//   // Called only once when componenent is mounted!\n//   // async componentDidMount() {\n//   //   const movies = await getMovies()\n//   //   this.setState({movies})\n//   // }\n\n//   // Is called only on Client (Browser...)\n//   // componentDidMount() {\n//   //   getMovies()\n//   //     .then((movies) => {\n//   //       this.setState({movies})\n//   //     })\n//   //     .catch((error) => {\n//   //       this.setState({errorMessage: error})\n//   //     })\n//   // }\n\n//   render() {\n//     const { movies } = this.props\n//     return (\n//       <div>\n//         <Head>\n//           <title>Home</title>\n//           <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\" />\n//           <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossOrigin=\"anonymous\"></script>\n//         </Head>\n//         <Navbar />\n//         <div className=\"home-page\">\n//           <div className=\"container\">\n//             <div className=\"row\">\n//               <div className=\"col-lg-3\">\n//                 <SideMenu\n//                   appName={\"Movie DB\"}\n//                 />\n//               </div>\n//               <div className=\"col-lg-9\">\n//                 <Carousel />\n//                 <div className=\"row\">\n//                   <MovieList movies={movies} />\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//         <Footer />\n//         <style jsx>{`\n//           .home-page {\n//             padding-top: 80px;\n//           }\n//         `}\n//         </style>\n//       </div>\n//     )\n//   }\n// }\n\nexport default Home\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}